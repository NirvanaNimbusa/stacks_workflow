

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>1. Stacks workflow tutorial &mdash; Stacks workflow tutorial 1.0 documentation</title>
  

  
  

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700,400italic,700italic|Roboto+Slab:400,700|Inconsolata:400,700&subset=latin,cyrillic' rel='stylesheet' type='text/css'>

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  

  
    <link rel="top" title="Stacks workflow tutorial 1.0 documentation" href="index.html"/>
        <link rel="next" title="2. Installing Stacks_workflow" href="02-Step_2.html"/>
        <link rel="prev" title="Stacks workflow tutorial" href="index.html"/> 

  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.6.2/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-nav-search">
        
          <a href="index.html" class="fa fa-home"> Stacks workflow tutorial</a>
        
        
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        
          
          
              <ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="">1. Stacks workflow tutorial</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#about-stacks">1.1. About STACKS</a></li>
<li class="toctree-l2"><a class="reference internal" href="#overview-of-the-steps">1.2. Overview of the steps</a></li>
<li class="toctree-l2"><a class="reference internal" href="#where-to-find-this-manual">1.3. Where to find this manual</a></li>
<li class="toctree-l2"><a class="reference internal" href="#licence">1.4. Licence</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="02-Step_2.html">2. Installing Stacks_workflow</a><ul>
<li class="toctree-l2"><a class="reference internal" href="02-Step_2.html#download-and-install-the-most-recent-version-of-this-workflow">2.1. Download and install the most recent version of this workflow</a></li>
<li class="toctree-l2"><a class="reference internal" href="02-Step_2.html#set-up-for-mac-osx">2.2. Set up for Mac OSX</a></li>
<li class="toctree-l2"><a class="reference internal" href="02-Step_2.html#download-and-install-stacks">2.3. Download and install STACKS</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="03-Step_3.html">3. Prepare your raw datafiles</a><ul>
<li class="toctree-l2"><a class="reference internal" href="03-Step_3.html#downloading-your-data">3.1. Downloading your data</a></li>
<li class="toctree-l2"><a class="reference internal" href="03-Step_3.html#copy-your-raw-files">3.2. Copy your raw files</a></li>
<li class="toctree-l2"><a class="reference internal" href="03-Step_3.html#preparing-the-lane-info-txt-file">3.3. Preparing the <code class="docutils literal"><span class="pre">lane_info.txt</span></code> file</a></li>
<li class="toctree-l2"><a class="reference internal" href="03-Step_3.html#removing-adapters">3.4. Removing adapters</a></li>
<li class="toctree-l2"><a class="reference internal" href="03-Step_3.html#assess-sequence-quality-with-fastqc">3.5. Assess sequence quality with FastQC</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="04-Step_4.html">4. Extract individual data with <code class="docutils literal"><span class="pre">process_radtags</span></code></a><ul>
<li class="toctree-l2"><a class="reference internal" href="04-Step_4.html#prepare-a-file-named-sample-information-csv">4.1. Prepare a file named <code class="docutils literal"><span class="pre">sample_information.csv</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="04-Step_4.html#launch-process-radtags-with">4.2. Launch process_radtags with:</a></li>
<li class="toctree-l2"><a class="reference internal" href="04-Step_4.html#testing-different-trim-lengths">4.3. Testing different trim lengths</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="05-Step_5.html">5. Rename samples</a><ul>
<li class="toctree-l2"><a class="reference internal" href="05-Step_5.html#rename-and-copy-the-samples">5.1. Rename and copy the samples</a></li>
<li class="toctree-l2"><a class="reference internal" href="05-Step_5.html#deleting-samples-with-too-few-reads">5.2. Deleting samples with too few reads</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="06-Step_6.html">6. Align reads to a reference genome (optional)</a><ul>
<li class="toctree-l2"><a class="reference internal" href="06-Step_6.html#install-bwa">6.1. Install bwa</a></li>
<li class="toctree-l2"><a class="reference internal" href="06-Step_6.html#download-reference-genome-to-the-01-info-files">6.2. Download reference genome to the <code class="docutils literal"><span class="pre">01-info_files</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="06-Step_6.html#index-the-reference-genome">6.3. Index the reference genome</a></li>
<li class="toctree-l2"><a class="reference internal" href="06-Step_6.html#align-samples">6.4. Align samples</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="07-Step_7.html">7. STACKS pipeline</a><ul>
<li class="toctree-l2"><a class="reference internal" href="07-Step_7.html#prepare-population-info-file">7.1. Prepare population info file</a></li>
<li class="toctree-l2"><a class="reference internal" href="07-Step_7.html#edit-script-parameters">7.2. Edit script parameters</a></li>
<li class="toctree-l2"><a class="reference internal" href="07-Step_7.html#run-the-stacks-programs">7.3. Run the STACKS programs</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="08-Step_8.html">8. Filtering the results</a></li>
<li class="toctree-l1"><a class="reference internal" href="09-conclusion.html">9. Conclusion</a><ul>
<li class="toctree-l2"><a class="reference internal" href="09-conclusion.html#running-into-problems">9.1. Running into problems</a></li>
</ul>
</li>
</ul>

          
        
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="index.html">Stacks workflow tutorial</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="index.html">Docs</a> &raquo;</li>
      
    <li>1. Stacks workflow tutorial</li>
      <li class="wy-breadcrumbs-aside">
        
          <a href="_sources/01-stacks.txt" rel="nofollow"> View page source</a>
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document">
            
  <div class="section" id="stacks-workflow-tutorial">
<h1>1. Stacks workflow tutorial<a class="headerlink" href="#stacks-workflow-tutorial" title="Permalink to this headline">¶</a></h1>
<p>This goal of this workflow is to simplify the use of the STACKS program and to
create a folder architecture and code structure to help people tasked with
analysing GBS or RAD data and possessing, especially those with limited
UNIX/Linux experience, to jump on the analysis wagon faster.</p>
<p>It was developed with the needs of our research group in mind as well as with
an emphasis on non-model species studies. We make no claim about its usefulness
to other groups or in other contexts, but we still believe it may be of use to
some.</p>
<p>This workflow has been tested with version 1.35 and earlier versions of STACKS
under Linux (Ubuntu 12.04 to 14.04) and MacOSX (10.9 Mavericks and 10.10
Yosemite).</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">Stacks_Workflow version 1.29 and up will not work with versions of STACKS
older than 1.24 since tags of different lengths can now be split together and
intermediary files are kept in compressed (.gz) format. We also recommend to
avoid STACKS versions 1.22 to 1.28, which contained bugs that seem to have
been fixed in version 1.29. Even better, use the latest STACKS version.</p>
</div>
<div class="section" id="about-stacks">
<h2>1.1. About STACKS<a class="headerlink" href="#about-stacks" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><p>The <a class="reference external" href="http://creskolab.uoregon.edu/stacks/">STACKS analysis pipeline</a> is
among the most used tools for SNP discovery in Genotyping by Sequencing (GBS)
and Restriction-site Associated DNA sequencing (RAD) studies, with and without
a reference genome. Here is diagram of the STACKS pipeline:</p>
<img alt="_images/stacks_diagram.png" src="_images/stacks_diagram.png" />
<p>Upon starting to use STACKS, it is highly suggested to read the two official
STACKS papers:</p>
<p><a class="reference external" href="http://www.g3journal.org/content/1/3/171.full">Catchen, J. M., Amores, A., Hohenlohe, P. A., Cresko, W. A., Postlethwait, J.
H., &amp; De Koning, D. J. (2011). Stacks: Building and Genotyping Loci De Novo
From Short-Read Sequences. G3, 1(3), 171–182. doi:10.1534/g3.111.000240</a></p>
<p><a class="reference external" href="http://onlinelibrary.wiley.com/doi/10.1111/mec.12354/abstract">Catchen, J. M., Hohenlohe, P. A., Bassham, S., Amores, A., &amp; Cresko, W. A.
(2013). Stacks: an analysis tool set for population genomics. Molecular
Ecology, 22(11), 3124–3140. doi:10.1111/mec.12354</a></p>
<p>Also very useful paper to read before attempting to run Stacks:</p>
<p><a class="reference external" href="http://onlinelibrary.wiley.com/doi/10.1111/1755-0998.12291/abstract;jsessionid=A32722E1462A2A2714EE53A6FD4C7194.f04t04">Mastretta Yanes A, Arrigo N, Alvarez N et al. (2014) RAD sequencing,
genotyping error estimation and de novo assembly optimization for population
genetic inference. Molecular Ecology Resources, n/a–n/a.</a></p>
</div></blockquote>
</div>
<div class="section" id="overview-of-the-steps">
<h2>1.2. Overview of the steps<a class="headerlink" href="#overview-of-the-steps" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><ol class="arabic simple">
<li>Install stacks_workflow and STACKS with its dependencies</li>
<li>Download your raw data files (Illumina lanes or Ion Proton chips)</li>
<li>Clean the reads and assess their quality</li>
<li>Extract individual data with process_radtags</li>
<li>Rename the sample files</li>
<li>Align reads to a reference genome (optional)</li>
<li>STACKS pipeline</li>
<li>Filtering the results</li>
<li>Further analyses</li>
</ol>
</div></blockquote>
</div>
<div class="section" id="where-to-find-this-manual">
<h2>1.3. Where to find this manual<a class="headerlink" href="#where-to-find-this-manual" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><ul class="simple">
<li>In the pipeline folder itself. Go to <a class="reference external" href="https://github.com/enormandeau/stacks_workflow">Github</a>, download the whole
repository and open the file named <code class="docutils literal"><span class="pre">MANUAL.html</span></code> in your web browser.</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="licence">
<h2>1.4. Licence<a class="headerlink" href="#licence" title="Permalink to this headline">¶</a></h2>
<p>The Stacks_workflow is licensed under the GPL3 license. See the LICENCE file
for more details.</p>
</div>
</div>


          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="02-Step_2.html" class="btn btn-neutral float-right" title="2. Installing Stacks_workflow">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="index.html" class="btn btn-neutral" title="Stacks workflow tutorial"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
      Last updated on Oct 26, 2015.
    </p>
  </div>

  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
  
</footer>
        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'1.0',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>